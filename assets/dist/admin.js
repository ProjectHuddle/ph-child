var N=Object.defineProperty;var y=(s,a,t)=>a in s?N(s,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[a]=t;var x=(s,a,t)=>y(s,typeof a!="symbol"?a+"":a,t);import{r as d,R as w,j as e,h as I,l as j,m as k,_ as l,N as _,S as b,a as h,D as $,c as F}from"./tailwind.js";let p="";function v({path:s,onRoute:a,children:t}){const{route:r,matched:o}=d.useContext(w),n=o&&o.name===s;if(console.log(`Route ${s}: matched route="${o==null?void 0:o.name}", isMatched=`,n),!n)return null;const c=r.hash.substr(1);return a&&(p!==c&&a(),p=c),e.jsx("div",{children:d.cloneElement(t,{route:o.data})})}class E extends d.Component{constructor(t){super(t);x(this,"handleRouteChange",t=>{const r=j((t==null?void 0:t.location)||t);this.setState({route:r})});x(this,"handleHashChange",()=>{const t=j(window.location);this.setState({route:t})});this.routes=Object.keys(t.routes).map(n=>t.routes[n].path),this.unlisten=I.listen(this.handleRouteChange),window.addEventListener("hashchange",this.handleHashChange);const r=j(window.location),{search:o}=window.location;this.state={route:r,defaultRoute:t!=null&&t.defaultRoute?`${o}#${t==null?void 0:t.defaultRoute}`:`${o}#/`}}componentWillUnmount(){this.unlisten(),window.removeEventListener("hashchange",this.handleHashChange)}render(){const{children:t,NotFound:r}=this.props,{route:o,defaultRoute:n}=this.state;console.log("Router render - route:",o,"defaultRoute:",n);let c=o;(!o.hash||o.hash==="#"||o.hash==="")&&(c={...o,hash:`#${this.props.defaultRoute}`},window.location.hash=`#${this.props.defaultRoute}`);let i=!1;for(const f of this.routes||[]){const C=k(f),S=c.hash.substr(1),g=C(S);if(console.log(`Router matching ${f} against ${S}:`,g),g){i={name:f,data:g};break}}const u={route:c,matched:i},m=!i;return console.log("Router final state - matched:",i,"is404:",m),e.jsx(w.Provider,{value:u,children:m?e.jsx("div",{children:"Not found"}):t})}}const L=({items:s,onSelectItem:a})=>{const[t,r]=d.useState(null),o=n=>{r(n.id),a(n)};return e.jsx("div",{style:{padding:"1rem",width:"100%"},children:s.map(n=>e.jsxs("div",{className:"mb-2",children:[n.main&&e.jsx("p",{className:"text-sm text-text-tertiary font-normal mb-2",children:n.main}),e.jsxs("div",{className:`h-10 flex items-center justify-start gap-2 px-2 rounded-md cursor-pointer ${t===n.id?"bg-gray-100":"bg-background-primary"}`,style:{backgroundColor:t===n.id?"#F9FAFB":""},onClick:()=>o(n),children:[e.jsx("span",{children:t===n.id?n.selected:n.icon}),e.jsx("p",{className:"m-0 text-base font-normal",children:n.title})]})]},n.id))})},A=({selectedItem:s})=>e.jsx("div",{className:"p-6",style:{marginLeft:"4px"},children:e.jsx("div",{children:s==null?void 0:s.content})}),G=()=>e.jsx("div",{children:"WhiteLabel"}),M=()=>e.jsx("div",{children:"GeneralSettings"}),P=()=>{const s=[{id:1,icon:e.jsx("img",{src:`${sureFeedbackAdmin.settings_selected_url}`,alt:l("Custom SVG","header-footer-elementor"),className:"object-contain"}),selected:e.jsx("img",{src:`${sureFeedbackAdmin.settings_selected_url}`,alt:l("Custom SVG","header-footer-elementor"),className:"object-contain"}),main:l("Editor","header-footer-elementor"),title:l("General Settings","header-footer-elementor"),content:e.jsx(M,{})},{id:2,icon:e.jsx("img",{src:`${sureFeedbackAdmin.settings_selected_url}`,alt:l("Custom SVG","header-footer-elementor"),className:"object-contain"}),selected:e.jsx("img",{src:`${sureFeedbackAdmin.settings_selected_url}`,alt:l("Custom SVG","header-footer-elementor"),className:"object-contain"}),title:l("White Label","header-footer-elementor"),content:e.jsx(G,{})}],[a,t]=d.useState(()=>{const n=localStorage.getItem("hfeSelectedItemId");return s.find(i=>i.id===Number(n))||s[0]});d.useEffect(()=>{localStorage.setItem("hfeSelectedItemId",a.id.toString())},[a]),d.useEffect(()=>{const c=new URLSearchParams(window.location.search).get("tab");if(c){const i=Number(c),u=s.find(m=>m.id===i);u&&t(u)}},[]);const r=n=>{t(n)},o=()=>{t(s[0])};return e.jsxs(e.Fragment,{children:[e.jsx(_,{onSettingsTabClick:o}),e.jsx("div",{className:"",children:e.jsxs(b,{align:"stretch",className:"p-1 flex-col lg:flex-row ph_child-settings-page",containerType:"flex",direction:"row",gap:"sm",justify:"start",style:{height:"100%"},children:[e.jsx(b.Item,{className:"p-2 ph_child-sticky-outer-wrapper",alignSelf:"auto",order:"none",shrink:1,style:{backgroundColor:"#ffffff"},children:e.jsx("div",{className:"ph_child-sticky-sidebar",children:e.jsx(L,{items:s,onSelectItem:r,selectedItemId:a.id})})}),e.jsx(b.Item,{className:"p-2 flex w-full justify-center items-start ph_child-hide-scrollbar",alignSelf:"auto",order:"none",shrink:1,style:{height:"calc(100vh - 1px)",overflowY:"auto"},children:e.jsx("div",{className:"ph_child-78-width",children:e.jsx(A,{selectedItem:a})})})]})})]})},V=()=>{var s,a;return console.log("CustomRouter rendering with routes:",h),e.jsxs(E,{routes:h,defaultRoute:(a=(s=h)==null?void 0:s.dashboard)==null?void 0:a.path,children:[e.jsx(v,{path:h.dashboard.path,children:e.jsx($,{})}),e.jsx(v,{path:h.settings.path,children:e.jsx(P,{})})]})},T=()=>e.jsx("div",{className:"surefeedback-styles font-figtree",children:e.jsx(V,{})});function R(){const s=document.getElementById("surefeedback-dashboard-app");if(s)try{F(s).render(e.jsx(T,{}))}catch(a){console.error("SureFeedback Admin: Failed to initialize app",a)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",R):R();
