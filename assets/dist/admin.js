var p=Object.defineProperty;var k=(o,t,e)=>t in o?p(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e;var l=(o,t,e)=>k(o,typeof t!="symbol"?t+"":t,e);import{r as m,R as w,j as s,h as y,l as g,m as S,N as E,a as h,D as N,c as $}from"./tailwind.js";let R="";function j({path:o,onRoute:t,children:e}){const{route:a,matched:n}=m.useContext(w),r=n&&n.name===o;if(console.log(`Route ${o}: matched route="${n==null?void 0:n.name}", isMatched=`,r),!r)return null;const i=a.hash.substr(1);return t&&(R!==i&&t(),R=i),s.jsx("div",{children:m.cloneElement(e,{route:n.data})})}class M extends m.Component{constructor(e){super(e);l(this,"handleRouteChange",e=>{const a=g((e==null?void 0:e.location)||e);this.setState({route:a})});l(this,"handleHashChange",()=>{const e=g(window.location);this.setState({route:e})});this.routes=Object.keys(e.routes).map(r=>e.routes[r].path),this.unlisten=y.listen(this.handleRouteChange),window.addEventListener("hashchange",this.handleHashChange);const a=g(window.location),{search:n}=window.location;this.state={route:a,defaultRoute:e!=null&&e.defaultRoute?`${n}#${e==null?void 0:e.defaultRoute}`:`${n}#/`}}componentWillUnmount(){this.unlisten(),window.removeEventListener("hashchange",this.handleHashChange)}render(){const{children:e,NotFound:a}=this.props,{route:n,defaultRoute:r}=this.state;console.log("Router render - route:",n,"defaultRoute:",r);let i=n;(!n.hash||n.hash==="#"||n.hash==="")&&(i={...n,hash:`#${this.props.defaultRoute}`},window.location.hash=`#${this.props.defaultRoute}`);let d=!1;for(const c of this.routes||[]){const C=S(c),x=i.hash.substr(1),u=C(x);if(console.log(`Router matching ${c} against ${x}:`,u),u){d={name:c,data:u};break}}const v={route:i,matched:d},f=!d;return console.log("Router final state - matched:",d,"is404:",f),s.jsx(w.Provider,{value:v,children:f?s.jsx("div",{children:"Not found"}):e})}}const P=()=>(console.log("ðŸŸ¢ Settings component is rendering!"),s.jsxs("div",{id:"surefeedback-settings-app",className:"surefeedback-styles",style:{backgroundColor:"lightgreen",border:"3px solid red"},children:[s.jsx(E,{}),s.jsxs("div",{className:"p-6",children:[s.jsx("h1",{className:"text-2xl font-semibold text-gray-900 mb-4",children:"ðŸŸ¢ SETTINGS PAGE ðŸŸ¢"}),s.jsx("p",{children:"This is the Settings page content."}),s.jsx("p",{children:"If you can see this green background and red border, the Settings component is working!"})]})]})),A=()=>{var o,t;return console.log("CustomRouter rendering with routes:",h),s.jsxs(M,{routes:h,defaultRoute:(t=(o=h)==null?void 0:o.dashboard)==null?void 0:t.path,children:[s.jsx(j,{path:h.dashboard.path,children:s.jsx(N,{})}),s.jsx(j,{path:h.settings.path,children:s.jsx(P,{})})]})},L=()=>s.jsx("div",{className:"surefeedback-styles font-figtree",children:s.jsx(A,{})});function b(){const o=document.getElementById("surefeedback-dashboard-app");if(o)try{$(o).render(s.jsx(L,{}))}catch(t){console.error("SureFeedback Admin: Failed to initialize app",t)}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",b):b();
